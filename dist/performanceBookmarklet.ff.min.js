/* https://github.com/dengzhizhi/performance-bookmarklet/tree/enhanced-resource-timeline by Zhizhi Deng
   build:16/09/2021 */

!function r(l,i,d){function s(t,e){if(!i[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var o=i[t]={exports:{}};l[t][0].call(o.exports,function(e){return s(l[t][1][e]||e)},o,o.exports,r,l,i,d)}return i[t].exports}for(var c="function"==typeof require&&require,e=0;e<d.length;e++)s(d[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("../helpers/dom"))&&a.__esModule?a:{default:a};function o(e,t,n){var a=r.default.newTag("div",{class:"legend-holder"});a.appendChild(r.default.newTag("h4",{text:t}));var o=r.default.newTag("dl",{class:"legend "+e});return n.forEach(function(e){o.appendChild(r.default.newTag("dt",{class:"colorBoxHolder",childElement:r.default.newTag("span",{},"background:"+e[1])})),o.appendChild(r.default.newTag("dd",{text:e[0]}))}),a.appendChild(o),a}var l={};l.init=function(){var e=r.default.newTag("section",{class:"resource-timing chart-holder"});e.appendChild(r.default.newTag("h3",{text:"Legend"}));var t=r.default.newTag("div",{class:"legends-group "});return t.appendChild(o("initiator-type-legend","Block color: Initiator Type",[["css","#afd899"],["iframe","#85b3f2"],["img","#bc9dd6"],["script","#e7bd8c"],["link","#89afe6"],["swf","#4db3ba"],["xmlhttprequest","#e7d98c"]])),t.appendChild(o("navigation-legend","Navigation Timing",[["Redirect","#ffff60"],["App Cache","#1f831f"],["DNS Lookup","#1f7c83"],["TCP","#e58226"],["SSL Negotiation","#c141cd"],["Time to First Byte","#1fe11f"],["Content Download","#1977dd"],["DOM Processing","#9cc"],["DOM Content Loaded","#d888df"],["On Load","#c0c0ff"]])),t.appendChild(o("resource-legend","Resource Timing",[["Stalled/Blocking","#cdcdcd"],["Redirect","#ffff60"],["App Cache","#1f831f"],["DNS Lookup","#1f7c83"],["TCP","#e58226"],["SSL Negotiation","#c141cd"],["Initial Connection (TCP)","#e58226"],["Time to First Byte","#1fe11f"],["Content Download","#1977dd"]])),e.appendChild(t),e};var i=l;n.default=i},{"../helpers/dom":6}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("../data")),o=(r(e("../helpers/tableLogger")),r(e("../helpers/waterfall")));function r(e){return e&&e.__esModule?e:{default:e}}var l={init:function(){var e=a.default.perfTiming.navigationStart,t={pageLoadTime:a.default.perfTiming.loadEventEnd-a.default.perfTiming.navigationStart,output:[]};for(var n in a.default.perfTiming)a.default.perfTiming[n]&&"number"==typeof a.default.perfTiming[n]&&(t[n]=a.default.perfTiming[n]-e,t.output.push({name:n,"time (ms)":a.default.perfTiming[n]-e}));return t.output.sort(function(e,t){return(e["time (ms)"]||0)-(t["time (ms)"]||0)}),t.blocks=[o.default.timeBlock("Total",0,t.pageLoadTime,"block-total"),o.default.timeBlock("Unload",t.unloadEventStart,t.unloadEventEnd,"block-unload"),o.default.timeBlock("Redirect ("+performance.navigation.redirectCount+"x)",t.redirectStart,t.redirectEnd,"block-redirect"),o.default.timeBlock("App cache",t.fetchStart,t.domainLookupStart,"block-appcache"),o.default.timeBlock("DNS",t.domainLookupStart,t.domainLookupEnd,"block-dns"),o.default.timeBlock("TCP",t.connectStart,t.connectEnd,"block-tcp"),o.default.timeBlock("Time to First Byte",t.requestStart,t.responseStart,"block-ttfb"),o.default.timeBlock("Response",t.responseStart,t.responseEnd,"block-response"),o.default.timeBlock("DOM Processing",t.domLoading,t.domComplete,"block-dom"),o.default.timeBlock("domContentLoaded Event",t.domContentLoadedEventStart,t.domContentLoadedEventEnd,"block-dom-content-loaded"),o.default.timeBlock("onload Event",t.loadEventStart,t.loadEventEnd,"block-onload")],t.secureConnectionStart&&t.blocks.push(o.default.timeBlock("SSL",t.secureConnectionStart,t.connectEnd,"block-ssl")),t.msFirstPaint&&t.blocks.push(o.default.timeBlock("msFirstPaint Event",t.msFirstPaint,t.msFirstPaint,"block-ms-first-paint-event")),t.domInteractive&&t.blocks.push(o.default.timeBlock("domInteractive Event",t.domInteractive,t.domInteractive,"block-dom-interactive-event")),!t.redirectEnd&&!t.redirectStart&&t.fetchStart>t.navigationStart&&t.blocks.push(o.default.timeBlock("Cross-Domain Redirect (and/or other Delay)",t.navigationStart,t.fetchStart,"block-redirect")),t.blocks.push(o.default.timeBlock("Network/Server",t.navigationStart,t.responseStart,"block-network-server")),a.default.measures.forEach(function(e){t.blocks.push(o.default.timeBlock("measure:"+e.name,Math.round(e.startTime),Math.round(e.startTime+e.duration),"block-custom-measure"))}),o.default.setupTimeLine(0,Math.round(t.pageLoadTime),t.blocks,a.default.marks,[],"Navigation Timing")}},i=l;n.default=i},{"../data":5,"../helpers/tableLogger":12,"../helpers/waterfall":13}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={init:function(){}},o=a;n.default=o},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=a(e("../data")),c=a(e("../helpers/dom")),u=a(e("../helpers/waterfall"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domain="all",this.startTime=0,this.endTime=null}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"isPartial",value:function(){return!(0===this.startTime&&null===this.endTime)}},{key:"getChartData",value:function(e){var o={pageLoadTime:s.default.perfTiming.loadEventEnd-s.default.perfTiming.responseStart,lastResponseEnd:s.default.perfTiming.loadEventEnd-s.default.perfTiming.responseStart};for(var t in s.default.perfTiming)s.default.perfTiming[t]&&"number"==typeof s.default.perfTiming[t]&&(o[t]=s.default.perfTiming[t]-s.default.perfTiming.navigationStart);var n=u.default.timeBlock("domContentLoaded Event",o.domContentLoadedEventStart,o.domContentLoadedEventEnd,"block-dom-content-loaded"),a=u.default.timeBlock("Onload Event",o.loadEventStart,o.loadEventEnd,"block-onload"),r=[u.default.timeBlock("Unload",o.unloadEventStart,o.unloadEventEnd,"block-unload"),u.default.timeBlock("Redirect",o.redirectStart,o.redirectEnd,"block-redirect"),u.default.timeBlock("App cache",o.fetchStart,o.domainLookupStart,"block-appcache"),u.default.timeBlock("DNS",o.domainLookupStart,o.domainLookupEnd,"block-dns"),u.default.timeBlock("TCP",o.connectStart,o.connectEnd,"block-tcp"),u.default.timeBlock("Timer to First Byte",o.requestStart,o.responseStart,"block-ttfb"),u.default.timeBlock("Response",o.responseStart,o.responseEnd,"block-response"),u.default.timeBlock("DOM Processing",o.domLoading,o.domComplete,"block-dom"),n,a];return o.secureConnectionStart&&r.push(u.default.timeBlock("SSL",o.secureConnectionStart,o.connectEnd,"block-ssl")),o.msFirstPaint&&r.push(u.default.timeBlock("msFirstPaint Event",o.msFirstPaint,o.msFirstPaint,"block-ms-first-paint-event")),o.domInteractive&&r.push(u.default.timeBlock("domInteractive Event",o.domInteractive,o.domInteractive,"block-dom-interactive-event")),!o.redirectEnd&&!o.redirectStart&&o.fetchStart>o.navigationStart&&r.push(u.default.timeBlock("Cross-Domain Redirect",o.navigationStart,o.fetchStart,"block-redirect")),o.blocks=this.isPartial()?[]:[u.default.timeBlock("Navigation API total",0,o.loadEventEnd,"block-navigation-api-total",r)],s.default.allResourcesCalc.filter(function(e){return e.startTime<o.loadEventEnd+2e4}).filter(e||function(){return!0}).forEach(function(n,e){var t=[u.default.timeBlock("Redirect",n.redirectStart,n.redirectEnd,"block-redirect"),u.default.timeBlock("DNS Lookup",n.domainLookupStart,n.domainLookupEnd,"block-dns"),u.default.timeBlock("Initial Connection (TCP)",n.connectStart,n.connectEnd,"block-dns"),u.default.timeBlock("secureConnect",n.secureConnectionStart||void 0,n.connectEnd,"block-ssl"),u.default.timeBlock("Timer to First Byte",n.requestStart,n.responseStart,"block-ttfb"),u.default.timeBlock("Content Download",n.responseStart||void 0,n.responseEnd,"block-response")],a=[0,n.redirectStart,n.domainLookupStart,n.connectStart,n.secureConnectionStart,n.requestStart,n.responseStart].reduce(function(e,t){return 0<t&&(t<e||e<=0)&&t!=n.startTime?t:e});n.startTime<a&&t.unshift(u.default.timeBlock("Stalled/Blocking",n.startTime,a,"block-blocking")),o.blocks.push(u.default.timeBlock(n.name,n.startTime,n.responseEnd,"block-"+n.initiatorType,t,n)),o.lastResponseEnd=Math.max(o.lastResponseEnd,n.responseEnd)}),{loadDuration:this.isPartial()?Math.max((o.blocks.map(function(e){return e.end}).reduce(function(e,t){return Math.max(e,t)},1e3)||1e3*this.startTime)-1e3*this.startTime,1e3):Math.round(Math.max(o.lastResponseEnd,s.default.perfTiming.loadEventEnd-s.default.perfTiming.navigationStart)),blocks:o.blocks,bg:[n,a]}}},{key:"refreshSVG",value:function(e){var t=this,n=1e3*t.startTime,a=t.endTime?1e3*t.endTime:null,o=t.getChartData(function(e){return("all"===t.domain||e.domain===t.domain)&&e.startTime>=n&&(!a||e.startTime<=a)}),r=n+o.loadDuration,l=u.default.setupTimeLine(t.startTime,o.loadDuration,o.blocks,s.default.marks.filter(function(e){return e.startTime>=n&&e.startTime<=r}),o.bg,"Temp"),i=e.getElementsByClassName("water-fall-chart")[0],d=l.getElementsByClassName("water-fall-chart")[0];e.replaceChild(d,i)}},{key:"init",value:function(){var n=this,e=n.getChartData(),a=u.default.setupTimeLine(n.startTime,e.loadDuration,e.blocks,s.default.marks,e.bg,"Resource Timing"),t=a.getElementsByClassName("water-fall-chart")[0],o=c.default.newTag("select",{class:"end-time-selector",onchange:function(e){var t=e.target.options[e.target.selectedIndex].value;n.endTime="all"!==t?parseInt(t):null,n.refreshSVG(a)}});o.appendChild(c.default.newTag("option",{text:"To",value:"all"}));for(var r=1;r<=25;r++)o.appendChild(c.default.newTag("option",{text:r}));t.parentNode.insertBefore(o,t);var l=c.default.newTag("select",{class:"start-time-selector",onchange:function(e){var t=e.target.options[e.target.selectedIndex].value;n.startTime=t?parseInt(t):0,n.refreshSVG(a)}});l.appendChild(c.default.newTag("option",{text:"From",value:"0"}));for(var i=1;i<=20;i++)l.appendChild(c.default.newTag("option",{text:i}));if(t.parentNode.insertBefore(l,t),1<s.default.requestsByDomain.length){var d=c.default.newTag("select",{class:"domain-selector",onchange:function(e){n.domain=e.target.options[e.target.selectedIndex].value,n.refreshSVG(a)}});d.appendChild(c.default.newTag("option",{text:"show all",value:"all"})),s.default.requestsByDomain.forEach(function(e){d.appendChild(c.default.newTag("option",{text:e.domain}))}),t.parentNode.insertBefore(d,t)}return a}}]),e}();n.default=r},{"../data":5,"../helpers/dom":6,"../helpers/waterfall":13}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,d=(a=e("./helpers/helpers"))&&a.__esModule?a:{default:a};var o=!0,r={resources:[],marks:[],measures:[],perfTiming:[],allResourcesCalc:[],isValid:function(){return o}};!function(){o=function(){if(window.performance&&void 0!==window.performance.getEntriesByType)r.resources=window.performance.getEntriesByType("resource"),r.marks=window.performance.getEntriesByType("mark"),r.measures=window.performance.getEntriesByType("measure");else{if(!window.performance||void 0===window.performance.webkitGetEntriesByType)return alert("Oups, looks like this browser does not support the Resource Timing API\ncheck http://caniuse.com/#feat=resource-timing to see the ones supporting it \n\n"),!1;r.resources=window.performance.webkitGetEntriesByType("resource"),r.marks=window.performance.webkitGetEntriesByType("mark"),r.measures=window.performance.webkitGetEntriesByType("measure")}return window.performance.timing?(r.perfTiming=window.performance.timing,!(r.perfTiming.loadEventEnd-r.perfTiming.navigationStart<0)||(alert("Page is still loading - please try again when page is loaded."),!1)):(alert("Oups, looks like this browser does not support performance timing"),!1)}(),r.allResourcesCalc=r.resources.filter(function(e){return!e.name.match(/http[s]?\:\/\/(micmro|nurun).github.io\/performance-bookmarklet\/.*/)}).map(function(e,t,n){var a,o,r;r=0===e.name.indexOf("http")?(o=(a=e.name.match(/:\/\/(.[^/]+)([^?]*)\??(.*)/))[2].split("/").pop()).substr((Math.max(0,o.lastIndexOf("."))||1/0)+1):(a=["",location.host],e.name.split(":")[0]);var l={name:e.name,domain:a[1],initiatorType:e.initiatorType||r||"SourceMap or Not Defined",fileExtension:r||"XHR or Not Defined",loadtime:e.duration,fileType:d.default.getFileType(r,e.initiatorType),isRequestToHost:a[1]===location.host};for(var i in e)"function"!=typeof e[i]&&(l[i]=e[i]);return e.requestStart&&(l.requestStartDelay=e.requestStart-e.startTime,l.dns=e.domainLookupEnd-e.domainLookupStart,l.tcp=e.connectEnd-e.connectStart,l.ttfb=e.responseStart-e.startTime,l.requestDuration=e.responseStart-e.requestStart),e.secureConnectionStart&&(l.ssl=e.connectEnd-e.secureConnectionStart),l}),r.requestsOnly=r.allResourcesCalc.filter(function(e){return 0===e.name.indexOf("http")&&!e.name.match(/js.map$/)}),r.initiatorTypeCounts=d.default.getItemCount(r.requestsOnly.map(function(e,t,n){return e.initiatorType||e.fileExtension}),"initiatorType"),r.initiatorTypeCountHostExt=d.default.getItemCount(r.requestsOnly.map(function(e,t,n){return(e.initiatorType||e.fileExtension)+" "+(e.isRequestToHost?"(host)":"(external)")}),"initiatorType"),r.requestsByDomain=d.default.getItemCount(r.requestsOnly.map(function(e,t,n){return e.domain}),"domain"),r.fileTypeCountHostExt=d.default.getItemCount(r.requestsOnly.map(function(e,t,n){return e.fileType+" "+(e.isRequestToHost?"(host)":"(external)")}),"fileType"),r.fileTypeCounts=d.default.getItemCount(r.requestsOnly.map(function(e,t,n){return e.fileType}),"fileType");var a={};r.requestsOnly.forEach(function(t){var e=r.requestsByDomain.filter(function(e){return e.domain==t.domain})[0]||{},n=a[t.domain]||0;t.duration=e.duration||t.responseEnd-t.startTime,n<=t.startTime?e.durationTotalParallel=(e.durationTotalParallel||0)+t.duration:n<t.responseEnd&&(e.durationTotalParallel=(e.durationTotalParallel||0)+(t.responseEnd-n)),a[t.domain]=t.responseEnd||0,e.durationTotal=(e.durationTotal||0)+t.duration}),r.hostRequests=r.requestsOnly.filter(function(e){return e.domain===location.host}).length,r.currAndSubdomainRequests=r.requestsOnly.filter(function(e){return e.domain.split(".").slice(-2).join(".")===location.host.split(".").slice(-2).join(".")}).length,r.crossDocDomainRequests=r.requestsOnly.filter(function(e){return!d.default.endsWith(e.domain,document.domain)}).length,r.hostSubdomains=r.requestsByDomain.filter(function(e){return d.default.endsWith(e.domain,location.host.split(".").slice(-2).join("."))&&e.domain!==location.host}).length,r.slowestCalls=[],r.average=void 0,0<r.allResourcesCalc.length&&(r.slowestCalls=r.allResourcesCalc.filter(function(e){return e.name!==location.href}).sort(function(e,t){return t.duration-e.duration}),r.average=Math.floor(r.slowestCalls.reduceRight(function(e,t){return"number"!=typeof e?e.duration+t.duration:e+t.duration})/r.slowestCalls.length))}();var l=r;n.default=l},{"./helpers/helpers":7}],6:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function l(e){return document.createTextNode(e)}function i(e,t,n){t=t||{};var a=document.createElement(e);for(var o in t)"text"!=o&&(a[o]=t[o]);return t.text?a.textContent=t.text:t.childElement&&("object"===r(t.childElement)?t.childElement instanceof NodeList?Array.prototype.slice.call(t.childElement,0).forEach(function(e){a.appendChild(e)}):a.appendChild(t.childElement):a.appendChild(l(t.childElement))),t.class&&(a.className=t.class),a.style.cssText=n||"",a}var a={newTextNode:l,newTag:i,tableFactory:function(e,t,n){var a=i("div",{id:e||"",class:"table-holder"}),o=i("table"),r=i("thead");return r.appendChild(t(i("tr"))),o.appendChild(r),o.appendChild(n(i("tbody"))),a.appendChild(o),a},combineNodes:function(e,t){var n=document.createElement("div");return"object"===r(e)?n.appendChild(e):"string"==typeof e&&n.appendChild(l(e)),"object"===r(t)?n.appendChild(t):"string"==typeof t&&n.appendChild(l(t)),n.childNodes},addClass:function(e,t){return e.classList?e.classList.add(t):e.setAttribute("class",e.getAttribute("class")+" "+t),e},removeClass:function(e,t){return e.classList?e.classList.remove(t):e.setAttribute("class",e.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2")),e}};n.default=a},{}],7:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l={getFileType:function(e,t){if(e)switch(e){case"jpg":case"jpeg":case"png":case"gif":case"webp":case"svg":case"ico":return"image";case"js":return"js";case"css":return"css";case"html":return"html";case"woff":case"woff2":case"ttf":case"eot":case"otf":return"font";case"swf":return"flash";case"map":return"source-map"}if(t)switch(t){case"xmlhttprequest":return"ajax";case"img":return"image";case"script":return"js";case"internal":case"iframe":return"html";default:return"other"}return t},getRandomColor:function(e,t,n){for(var a=[e||"0123456789ABCDEF",t||"0123456789ABCDEF",n||"0123456789ABCDEF"],o="#",r=0,l=0;l<6;l++)o+=a[r=Math.floor(l/2)].split("")[Math.floor(Math.random()*a[r].length)];return o},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)}};l.getInitiatorOrFileTypeColour=function(e,t,n){var a=t||"#bebebe";switch(e){case"css":a="#afd899";break;case"iframe":case"html":a="#85b3f2";break;case"img":case"image":a="#bc9dd6";break;case"script":case"js":a="#e7bd8c";break;case"link":a="#89afe6";break;case"swf":a="#4db3ba";break;case"font":a="#e96859";break;case"xmlhttprequest":case"ajax":a="#e7d98c"}return!0===n?function(e,t){return"#"+(parseInt(e.substr(1,2),16)+t).toString(16)+(parseInt(e.substr(3,2),16)+t).toString(16)+(parseInt(e.substr(5,2),16)+t).toString(16)}(a,-5):a},l.getItemCount=function(e,t){var n,a={},o=[];for(var r in e.forEach(function(e){a[e]=a[e]?a[e]+1:1}),a)(n={})[t||"key"]=r,n.count=a[r],o.push(n);return o.sort(function(e,t){return e.count<t.count?1:-1})},l.clone=function(e){var t;if(null==e||"object"!=r(e))return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,a=e.length;n<a;n++)t[n]=l.clone(e[n]);return t}if(e instanceof Object){for(var o in t={},e)e.hasOwnProperty(o)&&(t[o]=l.clone(e[o]));return t}throw new Error("Unable to helper.clone obj")};var a=l;n.default=a},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o,r,l,i,d=(a=e("../helpers/dom"))&&a.__esModule?a:{default:a},s=e("../helpers/style");function c(){if(r)for(l=i.getElementById("perfbook-content");l.firstChild;)l.removeChild(l.firstChild);else{r=d.default.newTag("div",{id:"perfbook-holder"}),l=d.default.newTag("div",{id:"perfbook-content"}),window.outputContent;var e=d.default.newTag("button",{class:"perfbook-close",text:"close"});e.addEventListener("click",function(){o.parentNode.removeChild(o)}),r.appendChild(e),r.appendChild(l)}}function u(e){e&&l.appendChild(e)}var f={setup:function(e){o=document.getElementById("perfbook-iframe");function t(){c(),e(u),i.body.appendChild(r),"hidden"!=getComputedStyle(document.body).overflow?o.style.height=r.clientHeight+36+"px":o.style.height="100%"}o?(i=o.contentWindow.document,r=i.getElementById("perfbook-holder"),c(),e(u),t()):(o=d.default.newTag("iframe",{id:"perfbook-iframe",onload:function(){i=o.contentWindow.document;var e=d.default.newTag("style",{type:"text/css",text:s.style});i.head.appendChild(e),t()}},"position:absolute; top:1%; right:1%; margin-bottom:1em; left:1%; z-index:6543210; width:98%; border:0; box-shadow:0 0 25px 0 rgba(0,0,0,0.5); background:#fff;"),document.body.appendChild(o))},getOutputIFrame:function(){return i}};n.default=f},{"../helpers/dom":6,"../helpers/style":10}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={}},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.style=void 0;n.style="body {overflow: auto; background: #fff; font:normal 12px/18px sans-serif; color:#333;} * {box-sizing:border-box;} svg {font:normal 12px/18px sans-serif;} th {text-align: left;} button {cursor:pointer;} button:disabled {cursor:default;} #perfbook-holder {overflow: hidden; width:100%; padding:1em 2em;} #perfbook-content {position:relative;} .perfbook-close {position:absolute; top:0; right:0; padding:1em; z-index:1; background:transparent; border:0; cursor:pointer;} .full-width {width:100%;} .chart-holder {margin: 5em 0;} h1 {font:bold 18px/18px sans-serif; margin:1em 0; color:#666;} .text-right {text-align: right;} .text-left {text-align: left;} .css {background: #afd899;} .iframe, .html, .internal {background: #85b3f2;} .img, .image {background: #bc9dd6;} .script, .js {background: #e7bd8c;} .link {background: #89afe6;} .swf, .flash {background: #4db3ba;} .font {background: #e96859;} .xmlhttprequest, .ajax {background: #e7d98c;} .other {background: #bebebe;} .css-light {background: #b9cfa0;} .iframe-light, .html-light, .internal-light {background: #c2d9f9;} .img-light, .image-light {background: #deceeb;} .script-light, .js-light {background: #f3dec6;} .link-light {background: #c4d7f3;} .swf-light, .flash-light {background: #a6d9dd;} .font-light {background: #f4b4ac;} .xmlhttprequest-light, .ajax-light {background: #f3ecc6;} .other-light {background: #dfdfdf;} .block-css {fill: #afd899;} .block-iframe, .block-html, .block-internal {fill: #85b3f2;} .block-img, .block-image {fill: #bc9dd6;} .block-script, .block-js {fill: #e7bd8c;} .block-link {fill: #89afe6;} .block-swf, .block-flash {fill: #4db3ba;} .block-font {fill: #e96859;} .block-xmlhttprequest, .block-ajax {fill: #e7d98c;} .block-other {fill: #bebebe;} .block-total {fill: #ccc;} .block-unload {fill: #909;} .block-redirect {fill: #ffff60;} .block-appcache {fill: #1f831f;} .block-dns {fill: #1f7c83;} .block-tcp {fill: #e58226;} .block-ttfb {fill: #1fe11f;} .block-response {fill: #1977dd;} .block-dom {fill: #9cc;} .block-dom-content-loaded {fill: #d888df;} .block-onload {fill: #c0c0ff;} .block-ssl {fill: #c141cd; } .block-ms-first-paint-event {fill: #8fbc83; } .block-dom-interactive-event {fill: #d888df; } .block-network-server {fill: #8cd18c; } .block-custom-measure {fill: #f00; } .block-navigation-api-total {fill: #ccc;} .block-blocking {fill: #cdcdcd;} .block-undefined {fill: #0f0;} .tiles-holder {margin: 2em -18px 2em 0; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap; } .summary-tile { flex-grow: 1; width:250px; background:#ddd; padding: 1em; margin:0 18px 1em 0; color:#666; text-align:center;} .summary-tile dt {font-weight:bold; font-size:16px; display:block; line-height:1.2em; min-height:2.9em; padding:0 0 0.5em;} .summary-tile dd {font-weight:bold; line-height:60px; margin:0;} .summary-tile-appendix {float:left; clear:both; width:100%; font-size:10px; line-height:1.1em; color:#666;} .summary-tile-appendix dt {float:left; clear:both;} .summary-tile-appendix dd {float:left; margin:0 0 0 1em;} .pie-charts-holder {margin-right: -72px; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap;} .pie-chart-holder {flex-grow: 1; width:350px; max-width: 600px; margin: 0 72px 0 0;} .pie-chart-holder h1 {min-height:2em;} .pie-chart {width:100%;} .table-holder {overflow-x:auto} .table-holder table {float:left; width:100%; font-size:12px; line-height:18px;} .table-holder th, .table-holder td {line-height: 1em; margin:0; padding:0.25em 0.5em 0.25em 0;} #pie-request-by-domain {flex-grow: 2; width:772px; max-width: 1272px;} #filetypes-and-intiators-table {margin: 2em 0 5em;} #filetypes-and-intiators-table table {vertical-align: middle; border-collapse: collapse;} #filetypes-and-intiators-table td {padding:0.5em; border-right: solid 1px #fff;} #filetypes-and-intiators-table td:last-child {padding-right: 0; border-right:0;} #filetypes-and-intiators-table .file-type-row td {border-top: solid 10px #fff;} #filetypes-and-intiators-table .file-type-row:first-child td {border-top: none;} .water-fall-holder {fill:#ccc;} .water-fall-chart {width:100%; background:#f0f5f0;} .water-fall-chart .marker-holder {width:100%;} .water-fall-chart .line-holder {stroke-width:1; stroke: #ccc; stroke-opacity:0.5;} .water-fall-chart .line-holder.active {stroke: #69009e; stroke-width:2; stroke-opacity:1;} .water-fall-chart .labels {width:100%;} .water-fall-chart .labels .inner-label {pointer-events: none;} .water-fall-chart .time-block.active {opacity: 0.8;} .water-fall-chart .line-end, .water-fall-chart .line-start {display: none; stroke-width:1; stroke-opacity:0.5; stroke: #000;} .water-fall-chart .line-end.active, .water-fall-chart .line-start.active {display: block;} .water-fall-chart .mark-holder text {-webkit-writing-mode: tb; writing-mode:vertical-lr; writing-mode: tb;} .time-scale line {stroke:#0cc; stroke-width:1;} .time-scale text {font-weight:bold;} .domain-selector, .start-time-selector, .end-time-selector { float:right; } .navigation-timing {} .legends-group { display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap; } .legends-group .legend-holder { flex-grow: 1; width:250px; padding:0 1em 1em; } .legends-group .legend-holder h4 { margin: 0; padding: 0; } .legend dt {float: left; clear: left; padding: 0 0 0.5em;} .legend dd {float: left; display: inline-block; margin: 0 1em; line-height: 1em;} .legend .colorBoxHolder span {display: inline-block; width: 15px; height: 1em;} .page-metric {} .page-metric button {margin-left: 2em;}"},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("../helpers/iFrameHolder"))&&a.__esModule?a:{default:a};function r(e,t,n){var a=document.createElementNS("http://www.w3.org/2000/svg",e);for(var o in t=t||{})"text"!=o&&a.setAttributeNS(null,o,t[o]);return a.textContent=t.text||"",a.style.cssText=n||"",a}var l={newEl:r,newTextEl:function(e,t,n){return r("text",{fill:"#111",y:t,text:e},(n||"")+" text-shadow:0 0 4px #fff;")},getNodeTextWidth:function(e){var t=r("svg:svg",{},"visibility:hidden;");t.appendChild(e),o.default.getOutputIFrame().body.appendChild(t);var n=e.getBBox().width;return t.parentNode.removeChild(t),n}};n.default=l},{"../helpers/iFrameHolder":8}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={logTable:function(e){0<e.data.length&&console.table&&(console.log("\n\n\n"+e.name+":"),console.table(e.data,e.columns))},logTables:function(e){e.forEach(a.logTable)}},o=a;n.default=o},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var w=a(e("../helpers/svg")),y=a(e("../helpers/dom"));function a(e){return e&&e.__esModule?e:{default:e}}var o={timeBlock:function(e,t,n,a,o,r){return{name:e,start:t,end:n,total:"number"!=typeof t||"number"!=typeof n?void 0:n-t,cssClass:a,segments:o,rawResource:r}}};o.setupTimeLine=function(l,i,e,d,t,n){function c(e){var t=e.target;y.default.addClass(t,"active");var n=t.x.baseVal.valueInSpecifiedUnits+t.width.baseVal.valueInSpecifiedUnits+"%",a=t.x.baseVal.valueInSpecifiedUnits+"%";k.x1.baseVal.valueAsString=n,k.x2.baseVal.valueAsString=n,v.x1.baseVal.valueAsString=a,v.x2.baseVal.valueAsString=a,y.default.addClass(k,"active"),y.default.addClass(v,"active"),t.parentNode.appendChild(k),t.parentNode.appendChild(v)}function u(e){y.default.removeClass(e.target,"active"),y.default.removeClass(k,"active"),y.default.removeClass(v,"active")}var s,f=1e3*l,p=i/100,a=e.filter(function(e){return"number"==typeof e.start&&"number"==typeof e.total}).sort(function(e,t){return(e.start||0)-(t.start||0)}),o=0<d.length?d.reduce(function(e,t){return Math.max("number"==typeof e?e:0,w.default.getNodeTextWidth(w.default.newTextEl(t.name,"0")))}):0,m=25*(a.length+1),r=m+o+35,h=y.default.newTag("section",{class:"resource-timing water-fall-holder chart-holder"}),g=w.default.newEl("svg:svg",{height:Math.floor(r),class:"water-fall-chart"}),b=w.default.newEl("g",{class:"labels"}),k=w.default.newEl("line",{x1:"0",y1:"0",x2:"0",y2:m,class:"line-end"}),v=w.default.newEl("line",{x1:"0",y1:"0",x2:"0",y2:m,class:"line-start"});return g.appendChild(function(){for(var e=w.default.newEl("g",{class:"time-scale full-width"}),t=0,n=i/1e3,a=100/n;t<=n;t++){var o=w.default.newTextEl(t+l+"sec",m);n-.2<t?(o.setAttribute("x",a*t-.5+"%"),o.setAttribute("text-anchor","end")):o.setAttribute("x",a*t+.5+"%");var r=w.default.newEl("line",{x1:a*t+"%",y1:"0",x2:a*t+"%",y2:m});e.appendChild(r),e.appendChild(o)}return e}()),g.appendChild((s=w.default.newEl("g",{transform:"scale(1, 1)",class:"marker-holder"}),d.forEach(function(e,t){var n=(e.startTime-f)/p,a=w.default.newEl("g",{class:"mark-holder"}),o=w.default.newEl("g",{class:"line-holder"}),r=w.default.newEl("g",{class:"line-label-holder",x:n+"%"});e.x=n;var l=w.default.newTextEl(e.name,25+m);l.setAttribute("x",n+"%"),l.setAttribute("stroke",""),o.appendChild(w.default.newEl("line",{x1:n+"%",y1:0,x2:n+"%",y2:m})),d[t-1]&&e.x-d[t-1].x<1&&(l.setAttribute("x",d[t-1].x+1+"%"),e.x=d[t-1].x+1),o.appendChild(w.default.newEl("line",{x1:n+"%",y1:m,x2:e.x+"%",y2:23+m}));var i=!1;l.addEventListener("mouseenter",function(e){i||(i=!0,y.default.addClass(o,"active"),a.parentNode.appendChild(a))}),l.addEventListener("mouseleave",function(e){i=!1,y.default.removeClass(o,"active")}),r.appendChild(l),a.appendChild(w.default.newEl("title",{text:e.name+" ("+Math.round(e.startTime)+"ms)"})),a.appendChild(o),s.appendChild(a),a.appendChild(r)}),s)),t.forEach(function(e,t){g.appendChild(function(e){var t=w.default.newEl("rect",{width:(e.total||1)/p+"%",height:m,x:(e.start||.001)/p+"%",y:0,class:e.cssClass||"block-undefined"});return t.appendChild(w.default.newEl("title",{text:e.name})),t}(e))}),a.forEach(function(e,t){var n=e.total||1,a=25*t;g.appendChild(function t(e,n,a,o,r,l,i){var d,s=w.default.newEl("rect",{width:e/p+"%",height:n-1,x:Math.round(a/p*100)/100+"%",y:o,class:(i&&0<i.length?"time-block":"segment")+" "+(r||"block-undefined")});return l&&s.appendChild(w.default.newEl("title",{text:l})),s.addEventListener("mouseenter",c),s.addEventListener("mouseleave",u),i&&0<i.length?((d=w.default.newEl("g")).appendChild(s),i.forEach(function(e){0<e.total&&"number"==typeof e.start&&d.appendChild(t(e.total,8,e.start?e.start-f:.001,o,e.cssClass,e.name+" ("+Math.round(e.start)+"ms - "+Math.round(e.end)+"ms | total: "+Math.round(e.total)+"ms)"))}),d):s}(n,25,e.start?e.start-f:.001,a,e.cssClass,e.name+" ("+e.start+"ms - "+e.end+"ms | total: "+e.total+"ms)",e.segments));var o=w.default.newTextEl(e.name+" ("+Math.round(e.total)+"ms)",a+(e.segments?20:17)),r=(e.start?e.start-f:.001)/p;10<(e.total||1)/p&&w.default.getNodeTextWidth(o)<200?(o.setAttribute("class","inner-label"),o.setAttribute("x",.5+r+"%"),o.setAttribute("width",n/p+"%")):r+n/p<80?o.setAttribute("x",r+n/p+.5+"%"):(o.setAttribute("x",r-.5+"%"),o.setAttribute("text-anchor","end")),o.style.opacity=e.name.match(/js.map$/)?"0.5":"1",b.appendChild(o)}),g.appendChild(b),n&&h.appendChild(y.default.newTag("h1",{text:n})),h.appendChild(g),h};var r=o;n.default=r},{"../helpers/dom":6,"../helpers/svg":11}],14:[function(e,t,n){"use strict";var a=d(e("./data")),o=d(e("./helpers/iFrameHolder")),r=d(e("./components/navigationTimeline")),l=d(e("./components/resourcesTimeline")),i=d(e("./components/legend"));function d(e){return e&&e.__esModule?e:{default:e}}!function(){if("about:"!==location.protocol&&a.default.isValid()){o.default.setup(function(t){[i.default.init(),(new l.default).init(),r.default.init()].forEach(function(e){t(e)})})}}()},{"./components/legend":1,"./components/navigationTimeline":2,"./components/resourcesTimeline":4,"./data":5,"./helpers/iFrameHolder":8}],15:[function(e,t,n){"use strict";a(e("./data")),a(e("./helpers/tableLogger"));function a(e){return e&&e.__esModule?e:{default:e}}},{"./data":5,"./helpers/tableLogger":12}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]);